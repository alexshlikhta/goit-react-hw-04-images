(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,t,a){},17:function(e,t,a){},19:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(6),o=a.n(r),l=(a(16),a(1));a(17);function i(e){var t=e.onSubmit,a=Object(n.useState)(""),r=Object(l.a)(a,2),o=r[0],i=r[1];return c.a.createElement("header",{className:"Searchbar"},c.a.createElement("form",{className:"SearchForm",onSubmit:function(e){e.preventDefault();var a=o.toLowerCase().trim();t(a)}},c.a.createElement("button",{type:"submit",className:"SearchForm-button"},c.a.createElement("span",{className:"button-label"},"Search")),c.a.createElement("input",{className:"SearchForm-input",value:o,onChange:function(e){i(e.target.value)},placeholder:"Search images and photos"})))}var m=a(4),u=function(e){var t=e.id,a=e.previewURL,n=e.onClick;return c.a.createElement("li",{className:"ImageGalleryItem",key:t},c.a.createElement("img",{className:"ImageGalleryItem-image",src:a,onClick:n,alt:""}))},s=a(3),d=document.querySelector("#modal");function f(e){var t=e.imagesModal,a=e.onClose;Object(n.useEffect)(function(){window.addEventListener("keydown",r)},[t]);var r=function e(t){"Escape"===t.code&&(window.removeEventListener("keydown",e),a())};return Object(s.createPortal)(c.a.createElement("div",{className:"Overlay",onClick:function(e){e.currentTarget===e.target&&a()}},c.a.createElement("div",{className:"Modal"},c.a.createElement("img",{src:t,alt:"images"}))),d)}function E(e){var t=e.images,a=Object(n.useState)(""),r=Object(l.a)(a,2),o=r[0],i=r[1],m=Object(n.useState)(!1),s=Object(l.a)(m,2),d=s[0],E=s[1],b=function(){E(!d)};return c.a.createElement(c.a.Fragment,null,c.a.createElement("ul",{className:"ImageGallery"},t.map(function(e){var t=e.id,a=e.previewURL,n=e.largeImageURL;return c.a.createElement(u,{key:t,previewURL:a,onClick:function(){!function(e){i(e),b()}(n)}})})),d&&c.a.createElement(f,{imagesModal:o,onClose:b}))}var b=function(e){var t=e.loadMore,a=e.onClick;return c.a.createElement(c.a.Fragment,null,t&&c.a.createElement("div",{className:"ButtonWrap"},c.a.createElement("button",{className:"Button",type:"button",onClick:a},"Load more")))},g=a(21),v=function(){return c.a.createElement("div",{className:"Loader"},c.a.createElement(g.a,{size:100,speed:.6,color:"#3f51b5"}))},p=function(e){var t=e.error;return c.a.createElement("div",{className:"Error"},c.a.createElement("h2",null,t))},j=a(7),h=a.n(j),O=function(){return c.a.createElement("div",{className:"Default"},c.a.createElement("img",{src:h.a,alt:"searching image"}))};function w(e){var t=e.imageQuery,a=Object(n.useState)(!1),r=Object(l.a)(a,2),o=r[0],i=r[1],u=Object(n.useState)(!1),s=Object(l.a)(u,2),d=s[0],f=s[1],g=Object(n.useState)([]),j=Object(l.a)(g,2),h=j[0],w=j[1],S=Object(n.useState)("idle"),k=Object(l.a)(S,2),y=k[0],N=k[1],C=Object(n.useState)(1),L=Object(l.a)(C,2),F=L[0],I=L[1];Object(n.useEffect)(function(){t&&function(e,t){return fetch("https://pixabay.com/api/?key=".concat("24173514-089b97c8c3d8ec143a8a2c0bb","&q=").concat(e,"&per_page=12&page=").concat(t)).then(function(t){return t.ok?t.json():Promise.reject(new Error("Some errors with ".concat(e)))})}(t,F).then(function(e){if(0===e.hits.length)return Promise.reject(new Error("Results for: ".concat(t,"  not found.")));w([].concat(Object(m.a)(h),Object(m.a)(e.hits))),N("resolved"),f(!0),M(),e.hits.length<12&&f(!1)}).catch(function(e){N("rejected"),i(e.message)})},[t,F]),Object(n.useEffect)(function(){R()},[t]);var M=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth",block:"end"})},R=function(){w([]),I(1)};return"idle"===y?c.a.createElement(O,null):"pending"===y?c.a.createElement(c.a.Fragment,null,c.a.createElement(v,null),c.a.createElement(E,{images:h})):"rejected"===y?c.a.createElement(p,{error:o}):"resolved"===y?c.a.createElement(c.a.Fragment,null,c.a.createElement(E,{images:h}),c.a.createElement(b,{onClick:function(){I(function(e){return e+1}),M()},loadMore:d})):void 0}function S(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),a=t[0],r=t[1];return c.a.createElement("div",{className:"App"},c.a.createElement(i,{onSubmit:function(e){r(e)}}),c.a.createElement(w,{imageQuery:a}))}o.a.createRoot(document.getElementById("root")).render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(S,null)))},7:function(e,t,a){e.exports=a.p+"static/media/searching.640df5ea.jpeg"},8:function(e,t,a){e.exports=a(19)}},[[8,1,2]]]);
//# sourceMappingURL=main.6199200f.chunk.js.map