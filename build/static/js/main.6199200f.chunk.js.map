{"version":3,"sources":["components/ImagesSearchbar/ImagesSearchbar.jsx","components/ImagesGalleryItem/ImagesGalleryItem.jsx","components/ImagesModal/ImagesModal.jsx","components/ImageGallery/ImageGallery.jsx","components/ImagesMoreButton/ImagesMoreButton.jsx","components/ImagesLoader/ImagesLoader.jsx","components/ImagesNotFound/ImagesNotFound.jsx","components/ImagesDefaults/ImagesDefaults.jsx","components/ImagesRender/ImagesRender.jsx","services/Images_api.js","App.js","index.js","images/searching.jpeg"],"names":["ImagesSearchbar","_ref","onSubmit","_useState","useState","_useState2","Object","slicedToArray","inputQuery","setInputQuery","react_default","a","createElement","className","e","preventDefault","queriedValue","toLowerCase","trim","type","value","onChange","target","placeholder","ImagesGalleryItem","id","previewURL","onClick","key","src","alt","modal","document","querySelector","ImagesModal","imagesModal","onClose","useEffect","window","addEventListener","keyDown","event","code","removeEventListener","createPortal","currentTarget","ImageGallery","images","setImagesModal","_useState3","_useState4","showModal","setShowModal","toggleModal","Fragment","map","_ref2","largeImageURL","components_ImagesGalleryItem_ImagesGalleryItem","modalClick","ImagesMoreButton","loadMore","ImagesLoader","DotSpinner","size","speed","color","ImagesNotFound","error","ImagesDefaults","image","ImagesRender","imageQuery","setError","setLoadMore","_useState5","_useState6","imagesArr","setImagesArr","_useState7","_useState8","status","setStatus","_useState9","_useState10","page","setPage","query","fetch","concat","then","res","ok","json","Promise","reject","Error","ImagesAPI","hits","length","toConsumableArray","scrollTo","catch","message","cleanImages","top","documentElement","scrollHeight","behavior","block","components_ImagesDefaults_ImagesDefaults","components_ImagesLoader_ImagesLoader","components_ImagesNotFound_ImagesNotFound","components_ImagesMoreButton_ImagesMoreButton","App","setQuery","ReactDOM","createRoot","getElementById","render","StrictMode","App_App","module","exports","__webpack_require__","p"],"mappings":"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","file":"static/js/main.6199200f.chunk.js","sourcesContent":["import React, { useState } from 'react';\n\nexport default function ImagesSearchbar({ onSubmit }) {\n    const [inputQuery, setInputQuery] = useState('');\n\n    const onSearchInputChange = e => {\n        setInputQuery(e.target.value);\n    };\n\n    const onSearchBarSubmit = e => {\n        e.preventDefault();\n\n        let queriedValue = inputQuery.toLowerCase().trim();\n        onSubmit(queriedValue);\n    };\n\n    return (\n        <header className=\"Searchbar\">\n            <form className=\"SearchForm\" onSubmit={onSearchBarSubmit}>\n                <button type=\"submit\" className=\"SearchForm-button\">\n                    <span className=\"button-label\">Search</span>\n                </button>\n\n                <input className=\"SearchForm-input\" value={inputQuery} onChange={onSearchInputChange} placeholder=\"Search images and photos\" />\n            </form>\n        </header>\n    );\n}\n","import React from 'react';\n\nconst ImagesGalleryItem = ({ id, previewURL, onClick }) => {\n    return (\n        <li className=\"ImageGalleryItem\" key={id}>\n            <img className=\"ImageGalleryItem-image\" src={previewURL} onClick={onClick} alt=\"\" />\n        </li>\n    );\n};\nexport default ImagesGalleryItem;\n","import { createPortal } from 'react-dom';\nimport React, { useEffect } from 'react';\n\nconst modal = document.querySelector('#modal');\n\nexport default function ImagesModal({ imagesModal, onClose }) {\n    useEffect(() => {\n        window.addEventListener('keydown', keyDown);\n    }, [imagesModal]);\n\n    const keyDown = event => {\n        if (event.code === 'Escape') {\n            window.removeEventListener('keydown', keyDown);\n            onClose();\n        }\n    };\n\n    const bgClick = event => {\n        if (event.currentTarget === event.target) {\n            onClose();\n        }\n    };\n\n    return createPortal(\n        <div className=\"Overlay\" onClick={bgClick}>\n            <div className=\"Modal\">\n                <img src={imagesModal} alt=\"images\" />\n            </div>\n        </div>,\n        modal,\n    );\n}\n","import React, { useState } from 'react';\nimport ImagesGalleryItem from '../ImagesGalleryItem';\nimport ImagesModal from '../ImagesModal';\n\nexport default function ImageGallery({images}) {\n    const [imagesModal, setImagesModal] = useState('');\n    const [showModal, setShowModal] = useState(false);\n\n    const toggleModal = () => {\n        setShowModal(!showModal); \n    };\n\n    const modalClick = largeImageURL => {\n        setImagesModal(largeImageURL);\n        toggleModal();\n    };\n\n    return (\n        <>\n            <ul className=\"ImageGallery\">\n                {images.map(({ id, previewURL, largeImageURL }) => (\n                    <ImagesGalleryItem\n                        key={id}\n                        previewURL={previewURL}\n                        onClick={() => {\n                            modalClick(largeImageURL);\n                        }}\n                    />\n                ))}\n            </ul>\n            {showModal && (\n                <ImagesModal imagesModal={imagesModal} onClose={toggleModal} />\n            )}\n        </>\n    );\n};\n","import React from 'react';\n\nconst ImagesMoreButton = ({ loadMore, onClick }) => {\n    return (\n        <>\n            {loadMore && (\n                <div className=\"ButtonWrap\">\n                    <button className=\"Button\" type=\"button\" onClick={onClick}>\n                        Load more\n                    </button>\n                </div>\n            )}\n        </>\n    );\n};\n\nexport default ImagesMoreButton;\n","import { DotSpinner } from '@uiball/loaders';\nimport React from 'react';\n\nconst ImagesLoader = () => {\n    return (\n        <div className=\"Loader\">\n            <DotSpinner size={100} speed={0.6} color=\"#3f51b5\" />\n        </div>\n    );\n};\n\nexport default ImagesLoader;\n","import React from 'react';\n\nconst ImagesNotFound = ({ error }) => {\n    return (\n        <div className=\"Error\">\n            <h2>{error}</h2>\n        </div>\n    );\n};\n\nexport default ImagesNotFound;\n","import React from 'react';\nimport image from '../../images/searching.jpeg';\n\nconst ImagesDefaults = () => {\n    return (\n        <div className=\"Default\">\n            <img src={image} alt=\"searching image\" />\n        </div>\n    );\n};\n\nexport default ImagesDefaults;\n","import React, { useEffect, useState } from 'react';\nimport ImageGallery from '../ImageGallery';\nimport ImagesAPI from '../../services/Images_api';\nimport ImagesMoreButton from '../ImagesMoreButton';\nimport ImagesLoader from '../ImagesLoader/ImagesLoader';\nimport ImagesNotFound from '../ImagesNotFound';\nimport ImagesDefaults from '../ImagesDefaults/ImagesDefaults';\n\nexport default function ImagesRender({imageQuery}) {\n    const [error, setError] = useState(false);\n    const [loadMore, setLoadMore] = useState(false);\n    const [imagesArr, setImagesArr] = useState([]);\n    const [status, setStatus] = useState('idle');\n    const [page, setPage] = useState(1);\n\n    useEffect(() => {\n        if(!imageQuery) {\n            return;\n        }\n        ImagesAPI(imageQuery, page)\n        .then(query => {\n            if (query.hits.length === 0) {\n                return Promise.reject(new Error(`Results for: ${imageQuery}  not found.`));\n            } else {\n                setImagesArr([...imagesArr, ...query.hits]);\n                setStatus('resolved');\n                setLoadMore(true);\n                scrollTo();\n\n                if (query.hits.length < 12) {\n                    setLoadMore(false);\n                }\n            }\n        })\n        .catch(error => {\n            setStatus('rejected');\n            setError(error.message);\n        });\n    }, [imageQuery, page]);\n\n    useEffect(() => {\n        cleanImages();\n    }, [imageQuery]);\n\n    const scrollTo = () => {\n        window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: 'smooth',\n            block: 'end',\n        });\n    };\n\n    const cleanImages = () => {\n        setImagesArr([]);\n        setPage(1);\n    };\n\n    const loadMoreImages = () => {\n        setPage(page => page + 1);\n        scrollTo();\n    };\n\n    if (status === 'idle') {\n        return <ImagesDefaults />;\n    }\n\n    if (status === 'pending') {\n        return (\n            <>\n                <ImagesLoader />\n                <ImageGallery images={imagesArr} />\n            </>\n        );\n    }\n\n    if (status === 'rejected') {\n        return <ImagesNotFound error={error} />;\n    }\n\n    if (status === 'resolved') {\n        return (\n            <>\n                <ImageGallery images={imagesArr} />\n                <ImagesMoreButton onClick={loadMoreImages} loadMore={loadMore}></ImagesMoreButton>\n            </>\n        );\n    }\n}\n","export default function ImagesAPI(query, page) {\n    const API_KEY = '24173514-089b97c8c3d8ec143a8a2c0bb';\n\n    return fetch(`https://pixabay.com/api/?key=${API_KEY}&q=${query}&per_page=12&page=${page}`).then(res => {\n        if (res.ok) {\n            return res.json();\n        }\n        return Promise.reject(new Error(`Some errors with ${query}`));\n    });\n}\n","import './App.css';\nimport React, { useState } from 'react';\nimport ImagesSearchbar from './components/ImagesSearchbar';\nimport ImagesRender from './components/ImagesRender';\n\nexport default function App() {\n    const [ query, setQuery ] = useState('');\n\n    const handleSubmit = query => {\n        setQuery(query);\n    };  \n    \n    return (\n        <div className=\"App\">\n            <ImagesSearchbar onSubmit={handleSubmit} />\n            <ImagesRender imageQuery={query} />\n        </div>\n    );\n};","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n);\n","module.exports = __webpack_public_path__ + \"static/media/searching.640df5ea.jpeg\";"],"sourceRoot":""}